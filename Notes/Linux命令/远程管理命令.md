## 声明
转载自黑马视频中的笔记和玄魂公众号！

---

## 0x01 关机/重启


### shutdown
可以安全 关闭 或者 重新启动系统
```
shutdown 选项 时间
```

|选项|含义|
|:--:|--|
|-r|重新启动|

<!--more-->


提示：
* `不指定选项和参数`，默认表示1分钟之后关闭电脑
* 远程维护服务器时，`最后不要关闭系统`，而应该重新启动系统

```
# 重新启动操作系统，其中 now 表示现在
shutdown -r now

# 立刻关机
shutdown now

# 系统在 20:25关机
shutdown 20:25

# 系统过十分钟后自动关机
shutdown +10

# 取消关机/重启
shutdown -c
```

---

## 0x02 查看或配置网卡信息

### 网卡和IP地址

网卡
* 网卡是一个专门负责网络通讯的硬件设备
* `IP地址`是设置在网卡上的地址信息

IP地址
* 每台联网的电脑上都有IP地址，是保证电脑之间正常通讯的重要设置

> 注意：每台电脑的IP地址不能相同，否则会出现IP地址冲突，并且没有办法正常通讯

### ifconfig
可以查看/配置计算机当前的网卡配置信息
```
# 查看网卡配置信息
ifconfig

# 查看网卡对应的IP地址
ifconfig | grep inet
```
> 提示：一台计算机中可能会有一个物理网卡和多个虚拟网卡，在Linux中物理网卡的名字通常以ensXX表示

* `127.0.0.1`被称为 `本地回环/环回地址`，一般用来测试本机网卡是否正常

### ping
检测目标的 ip地址 的连接是否正常
```
ping ip地址

# http://ping.chinaz.com
```

---


## 0x03 远程登录和复制文件

### SSH基础
通过ssh客户端，我们可以连接到运行了ssh服务器的远程机器上
* <b>SSH 客户端</b>是一种使用`Secure shell (SSH)`协议连接到远程计算机的软件程序
* `ssh`是目前比较可靠，<b>专为远程登录会话和其他网络服务</b>提供安全性的协议
* 利用`SSH 协议`可以<b>有效防止远程管理过程中的信息泄露</b>
* 通过`SSH 协议`可以对所有传输的数据进行加密，也能够防止DNS欺骗和IP欺骗
* `SSH`的另一项有点事传输的数据可以是经过压缩的，所以可以极快传输的速度


#### 域名和端口号
<b>域名</b>

* 由一串 <b>用点分隔</b>的名字组成
* 是IP地址的别名，方便用户记忆

<b>端口号</b>
* <b>IP地址</b>：通过IP地址找到网络上的计算机
* <b>端口号</b>：通过端口号 可以找到<b>计算机上运行的应用程序</b>
* <b>SSH服务器</b>的默认端口号是`22`，如果是默认端口号，在连接的时候，可以省略

#### SSH客户端的简单实用
```
ssh [-p port] user@remote
```

* `user`是在远程机器上的用户名，如果不指定的话默认为当前用户
* `remote`是远程机器的地址，可以是<b>IP/域名</b>，或是<b>其他别名</b>
* `port`是<b>SSH Server监听的端口</b>，如果不指定，就为默认值22

提示：
* 使用`exit`退出当前用户的登录
* 在工作中，SSH服务器的端口号很可能有不是<b>22</b>，如果余姚这种情况就需要使用`-p`选项，指定正确的端口号，否则无法正常连接到服务器

注意：
* `ssh`这个终端命令只能在`Linux`或者`Unix`系统下使用
* 如果在`Windows`系统中，可以安装`putty`或者`xshell`客户端软件即可

### SSH高级
> 提示：有关SSH配置信息都保存在用户家目录下的`.ssh`目录下

#### 免密码登录
**配置公钥**：
* 执行`ssh-keygen`即可生成SSH钥匙，一路回车即可
* 上传到公钥服务器
* 执行`ssh-copy-id -p port user@remote`，可以让远程服务器记住我们的公钥

**非对称加密算法**：
* 使用`公钥`加密的数据，需要使用`私钥`解密
* 使用`私钥`加密的数据，需要使用`公钥`解密

#### 配置别名
每次都输入`ssh -p port user@remote`，时间久了会觉得很麻烦，特别是当`user`,`remote`和`port`都得输入，而且还不好记忆

而配置别名，可以让我们来偷懒
在`~/.ssh/config`里面追加一下内容
```
Host mac
    HostName ip地址
    User itheima
    Port 22
```
保存之后，即可用`ssh mac`实现远程登录了，`scp`同样可以使用

### scp
一个在`Linux`下用来远程拷贝文件的命令
他的<b>地址格式与ssh基本相同</b>，需要注意的是，在指定端口时用的是大写`-P`而不是小写

有时我们需要获得远程服务器上的某个文件，该服务器既没有配置`ftp`服务器，也没有共享
无法通过常规途径获得文件时，只需要通过简单的scp命令便可达到目的
```
scp -P port test.txt user@remote:/root
```
说明：
* test.txt 是我们本地文件
* -P 指定端口
* user：用户
* remote：远程地址
* `:`之后就是路径

|选线|含义|
|:--:|--|
|-r|将递归复制该目录下的所有子目录和文件，目标文件必须为一个目录名|
|-P|若远程SSH服务器的端口不是22，需要使用大写字母-P 选项指定端口|

```
# 将本地文件复制到远程Linux上
scp test.txt root@192.168.1.1:/root

# 把远程远程的文件拷贝到本地
scp root@192.168.1.1:/root/test.txt 2.txt

# 把家目录的demo 复制到 远程 家目录下的desktop
scp -r deom  root@192.168.1.1:Desktop

# 把远程demo文件夹 复制到 当前x文件夹
scp -r  root@192.168.1.1:Desktop/demo x
```

---
